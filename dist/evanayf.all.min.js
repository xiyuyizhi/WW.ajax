/*!
 * author：xiyuyizhi 
 * Copyright xiyuyizhi.
 */
!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(13),s=r(i),u=n(12),l=r(u);o.default.upload=s.default,o.default.download=l.default,window.evanayf={http:o.default},t.default={http:o.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,u.default)(e);if(t)throw new Error("property "+t+" not allowed");var n=new i.default(e,a.interceptor,a.pendingRequests);return n.getPromise()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),s=n(10),u=r(s);["get","post","put","delete","header"].forEach(function(e){e=e.toLowerCase(),a[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o={type:e,url:n[0]},s=n.length;return"post"==e||"put"==e?(2==s&&(o.data=n[1]),3==s&&(n[2].headers?(o.data=n[1],o.headers=n[2].headers):(o.params=n[1],o.data=n[2])),4==s&&(o.params=n[1],o.data=n[2],o.headers=n[3]&&n[3].headers)):(o.params=n[1],o.headers=n[2]&&n[2].headers),new i.default(o,a.interceptor,a.pendingRequests).getPromise()}}),a.pendingRequests=[],a.interceptor={request:null,response:null,responseError:null},a.Interceptor=function(e){Object.assign(a.interceptor,e)},t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={type:"get",url:"",params:"",data:"",responseType:"",headers:{dataType:"json",contentType:"json",withCredentials:!1},async:!0,success:null,error:null,uploadProcess:null,abort:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var i=n(21),s=r(i),u=n(22),l=r(u),c=function(){function e(t){a(this,e),this.elements=[],this.selector=t,this.init()}return o(e,[{key:"init",value:function(){"string"==typeof this.selector?this.elements=Array.from(document.querySelectorAll(this.selector)):this.selector!=window&&this.selector!=document||this.elements.push(this.selector)}},{key:"css",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1==t.length){var r=(0,s.default)(this.elements[0],t[0]);return r.indexOf("px")!==-1?Number(r.slice(0,r.length-2)):r}if(2==t.length)return this.elements.forEach(function(e){(0,s.default)(e,t[0],t[1])}),this}},{key:"eq",value:function(t){var n=new e;return n.elements=[this.elements[t]],n}},{key:"get",value:function(e){return this.elements[e]}},{key:"find",value:function(t){var n=[];this.elements.forEach(function(e){n=n.concat(Array.from(e.querySelectorAll(t)))});var r=new e;return r.elements=n,r}},{key:"html",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length?(this.elements.forEach(function(e){e.innerHTML=t[0]}),this):this.elements[0].innerHTML}},{key:"val",value:function(){return arguments.length?(this.elements[0].innerText?this.elements[0].innerText=arguments.length<=0?void 0:arguments[0]:this.elements[0].textContent=arguments.length<=0?void 0:arguments[0],this):this.elements[0].innerText||this.elements[0].textContent}},{key:"on",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.elements.forEach(function(e){l.default.on(e,t[0],t[1],t[2])}),this}},{key:"off",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.elements.forEach(function(e){l.default.off(e,t[0],t[1],t[2])})}},{key:"show",value:function(){return this.css("display","inline-block"),this}},{key:"hide",value:function(){return this.css("display","none"),this}},{key:"addClass",value:function(e){return this.elements.forEach(function(t){t.className+=" "+e}),this}},{key:"removeClass",value:function(e){return this.elements.forEach(function(t){var n=t.className.split(" ");n=n.filter(function(t){return!(t==e)}),t.className=n.join(" ")}),this}},{key:"hasClass",value:function(e){var t=new RegExp("(\\s+"+e+"|"+e+"\\s+)"),n=!0,r=!1,a=void 0;try{for(var o,i=this.elements[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;return t.test(s.className)}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e),r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;if(i.default[l]){if("multipart"!==e[l]){var c=i.default[l].name,f=i.default[l][e[l]];f&&t.setRequestHeader(c,f)}}else t.setRequestHeader(l,e[l])}}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;if(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.uploadProcess){var n=t.upload;n&&(n.addEventListener?n.addEventListener("progress",function(t){e.uploadProcess(t)}):n.attachEvent?n.attachEvent("progress",function(t){e.uploadProcess(t)}):n.onprogress=function(t){e.uploadProcess(t)}),e.abort&&e.abort(t)}if(t.open(e.type,e.url,e.async),a(e.headers,t),"multipart"==e.headers.contentType){var r=new FormData;r.append("file",e.data),t.send(r)}else"arraybuffer"==e.responseType||"blob"==e.responseType?(t.responseType=e.responseType,t.send(JSON.stringify(e.data)||null)):t.send(JSON.stringify(e.data)||null);return t};var o=n(11),i=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=void 0;switch(e){case"text":n=t.responseText;break;case"json":n=JSON.parse(t.responseText);break;case"xml":n=t.responseXML;break;case"jsonP":break;case"buffer":n=t.response}return n}function i(e,t,n){n({status:e.status,statusText:e.statusText}),t&&t(e.status,e.statusText)}function s(e,t,n,r){r({data:e,status:t.status,statusText:t.statusText,headers:function(e){return t.getResponseHeader(e)}}),n&&n(e,t.status,t.statusText,function(e){return t.getResponseHeader(e)})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=r(l),f=n(4),d=r(f),p=n(8),h=r(p),v=n(9),y=r(v),m=n(7),g=r(m),b=function(){function e(t,n,r){a(this,e),this.interceptor=n,this.pendingRequests=r,this.init(t)}return u(e,[{key:"init",value:function(e){e=(0,h.default)((0,g.default)(c.default),(0,g.default)(e)),(0,y.default)(e),this.interceptor.request&&(e=this.interceptor.request(e)),this.pendingRequests.push(e);var t=(0,d.default)(e);this.conf=e,this.xhr=t}},{key:"getPromise",value:function(){var e=this.xhr,t=this.conf,n=this.interceptor,r=this.pendingRequests;return e.onabort=function(){r.splice(r.indexOf(t),1)},new Promise(function(a,u){e.onreadystatechange=function(){if(4===e.readyState){if(r.splice(r.indexOf(t),1),e.status>=200&&e.status<300||304==e.status){var l=o(t.headers.dataType,e);return n.response&&n.response(l,e),void s(l,e,t.success,a)}"multipart"!==t.headers.contentType?(n.responseError&&n.responseError(e),i(e,t.error,u)):(n.response&&n.response({status:"取消上传成功"}),s({status:"取消上传成功"},e,t.success,a))}}})}}]),e}();t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e.split(","),r=0;r<n.length;r++)if(n[r].toLowerCase()==t)return!0;return!1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,n){var r=Object.keys(e),a=!0,o=!1,i=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value;"[object Object]"!=={}.toString.call(e[l])?n[l]=e[l]:(n[l]={},t(e[l],n[l]))}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}}var n={};return t(e,n),n}},function(e,t){"use strict";function n(e,t){for(var a in t)r.call(t,a)&&("headers"===a?e[a]=n(e[a],t[a]):e[a]=t[a]);return e}Object.defineProperty(t,"__esModule",{value:!0});var r={}.hasOwnProperty;t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.url,n=/:([^\/]+)/g;if(e.params&&"[object Object]"=={}.toString.call(e.params)){t=t.replace(n,function(t,n){var r=e.params[n];return delete e.params[n],r});var r=Object.keys(e.params);if(r.length){t+="?";var a=!0,o=!1,i=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var l=s.value;t+=l+"="+encodeURIComponent(e.params[l])+"&"}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}e.url=t.substr(0,t.length-1)}else e.url=t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.keys(e),n=Object.keys(o.default),r=!0,a=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;if(n.indexOf(l)===-1)return l}}catch(e){a=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return!1};var a=n(2),o=r(a)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contentType:{name:"Content-Type",json:"application/json",text:"application/x-www-form-urlencoded",multipart:"multipart/form-data"},dataType:{name:"Accept",json:"application/json, text/javascript, */*; q=0.01",text:"text/plain, */*; q=0.01",html:"text/html, */*; q=0.01",buffer:"text/plain"},withCredentials:{name:"withCredentials",true:!0,false:!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e,t);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t,n.click(),window.URL.revokeObjectURL(n.href)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.assign({},s,e);if("file"!==t.downType&&"buffer"!==t.downType)throw new Error("type类型只允许为file或buffer");if("buffer"==t.downType)(0,i.default)({url:t.url,type:"get",responseType:"arraybuffer",headers:{dataType:"buffer"}}).then(function(e){var t=decodeURIComponent(e.headers("content-disposition").split(" ")[1]),n=new Blob([e.data],{type:e.headers("content-type")});a(n,t.split("=")[1])});else{var n=document.createElement("A");document.body.appendChild(n),n.target="_blank",n.download="download",n.href=t.url,n.click()}};var o=n(1),i=r(o),s={url:"",downType:"file"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=document.createElement("input");return t.type="file",t.name=e.fileName,t.multiple=e.multiple,t.style="display:none",t}function o(e,t){t=Object.assign({},s.default,t);var n=null;(0,m.default)(e).on("click",function(r){switch(t.showType){case"process":document.querySelector("#uploadProcess")||(0,l.default)();break;case"loading":document.querySelector("#loadingUpload")||(0,f.default)();break;default:throw new Error("need a property showType and the value can be only process or loading")}n||(n=a(t),r.target.appendChild(n),(0,m.default)(e).find("input").on("click",function(e){e.stopPropagation()}).on("change",function(e){"process"==t.showType&&(0,p.default)(Array.from(e.target.files),t),"loading"==t.showType&&(0,v.default)(Array.from(e.target.files),t),e.target.value=""})),n.click()}),(0,m.default)(window).on("beforeunload",function(){localStorage.removeItem("originLen")})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=r(i),u=n(16),l=r(u),c=n(15),f=r(c),d=n(19),p=r(d),h=n(17),v=r(h),y=n(3),m=r(y);n(23),t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e/1024/1024>1?(e/1024/1024).toFixed(2)+"M":(e/1024).toFixed(2)+"KB"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e='\n\t\t\t<div id="loadingUpload">\n\t\t\t\t<span class="loadingTxt"></span>\n\t\t\t</div>\n\t\t',t=document.createElement("div");t.innerHTML=e,document.querySelector("body").appendChild(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.find(".minimize"),n=e.find(".maximize"),r=e.find(".processUl");n.on("click",function(){e.show().css("height","400px"),t.show(),n.hide()}),t.on("click",function(){e.css("height","50px"),t.hide(),n.show()}),e.find("#close").on("click",function(){localStorage.removeItem("originLen"),e.hide(),r.html("")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e="<div id='uploadProcess'>\n                            <p class='head gradientHead'>\n                               <span class='headMsg'></span> \n                               <span class='menu'>\n                                   <span class='minimize'></span>\n                                    <span class='maximize'></span>\n                                    <span id='close'>X</span>\n                               </span>  \n                            </p>    \n                            <ul class='processUl'>\n                            </ul>  \n                          </div>",t=document.createElement("div");t.innerHTML=e,document.querySelector("body").appendChild(t),a((0,i.default)("#uploadProcess"))};var o=n(3),i=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.reduce(function(e,t){return e+t},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.length,r=[],o=Array(n).fill().map(function(e){return 0}),s=0,l=!0,f=!1,d=void 0;try{for(var p,h=e[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var v=p.value;if(s+=v.size,!(0,i.default)(t.allowSuffix,v.type))return(0,u.default)("#loadingUpload").show().find(".loadingTxt").html(v.name+"格式不允许"),void setTimeout(function(){(0,u.default)("#loadingUpload").hide()},1e3)}}catch(e){f=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw d}}(0,u.default)("#loadingUpload").show(),e.forEach(function(e,n){if((0,i.default)(t.allowSuffix,e.type)){var l={url:t.url,type:"post",data:e,headers:{contentType:"multipart",dataType:"text"},uploadProcess:function(e){o[n]=e.loaded;var t=(a(o)/s*100).toFixed(1);t<100?(0,u.default)("#loadingUpload").find(".loadingTxt").html("正在上传"+t+"%"):((0,u.default)("#loadingUpload").find(".loadingTxt").html("上传完成"),setTimeout(function(){(0,u.default)("#loadingUpload").hide()},1e3))}};r.push((0,c.default)(l))}}),Promise.all(r).then(function(e){t.complete(e)})};var o=n(6),i=r(o),s=n(3),u=r(s),l=n(1),c=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=document.querySelector("#uploadProcess .processUl"),r="",a=0;a<e.length;a++)r+="<li>\n                <div class='processDiv gradientProcess'></div>\n                <span class='title'>"+e[a].name+"</span>\n                <span class='size'>"+(0,o.default)(e[a].size)+"</span>",r+=(0,s.default)(t,e[a].type)?"<span class='percent'></span>\n                      <span class='status cancel' title='取消'></span>":"<span class='percent' style='visibility:visible' title=\"已取消(格式不允许\">已取消(格式不允许)</span>\n                     <span class='status cancel' title='取消' style='display:none'></span>",r+="</li>";n.innerHTML+=r};var a=n(14),o=r(a),i=n(6),s=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=Number(localStorage.getItem("originLen"));e.forEach(function(e,a){if(!(0,c.default)(t.allowSuffix,e.type))return void n.push(new Promise(function(t,n){t({status:0,statusText:"文件类型不允许",data:e})}));var o={url:t.url,type:"post",data:e,headers:{contentType:"multipart",dataType:"text"},uploadProcess:function(e){var t=(0,i.default)(".processUl li").eq(r+a),n=t.find(".processDiv"),o=t.find(".percent"),s=e.loaded/e.total,u=t.css("width");if(o.show().html((100*s).toFixed(2)+"%"),n.css("width",s*parseInt(u)+"px"),s>=1){var l=t.find(".cancel");n.hide(),o.hide(),l.removeClass("cancel").addClass("ok")}},abort:function(e){var t=(0,i.default)(".processUl li").eq(r+a);t.find(".cancel").on("click",function(){e.abort(),t.find(".processDiv").hide(),t.find(".cancel").hide(),t.find(".percent").html("已取消")})}};n.push((0,d.default)(o))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[],r=(0,i.default)("#uploadProcess");(0,u.default)(e,t.allowSuffix),r.find(".headMsg").html("上传中"),r.find(".maximize").get(0).click(),localStorage.getItem("originLen")?localStorage.setItem("originLen",Number(localStorage.getItem("originLen"))):localStorage.setItem("originLen",0),a(e,t,n),localStorage.setItem("originLen",Number(localStorage.getItem("originLen"))+e.length),Promise.all(n).then(function(e){d.default.pendingRequests.length||(r.find(".headMsg").html("全部完成"),setTimeout(function(){r.find(".minimize").get(0).click()},500)),t.complete(e)})};var o=n(3),i=r(o),s=n(18),u=r(s),l=n(6),c=r(l),f=n(1),d=r(f)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:"/",maxFileCount:"10",fileName:"file",multiple:"multiple",showType:"process",allowSuffix:"application/x-rar-compressed,image/jpeg,image/png,application/pdf",complete:function(){}}},function(e,t){"use strict";function n(e,t,n){if(n)e.style[t]=n;else{if(document.defaultView.getComputedStyle)return window.getComputedStyle.getPropertyValue?window.getComputedStyle(e,null).getPropertyValue(t):window.getComputedStyle(e)[t];if(e.currentStyle)return e.currentStyle[t]}}Object.defineProperty(t,"__esModule",{value:!0}),n.width=function(e){var t=n(e,"width");return parseFloat(t)},n.height=function(e){var t=n(e,"height");return parseFloat(t)},t.default=n},function(e,t){"use strict";function n(e,t,n,r){var a="originFn",o=t+"Fn";e.length||(e=[e]),e.forEach(function(e){e[a]=e[a]||[],e[o]=e[o]||[],e[a].push(n);var i=function(t){t=t||window.event,t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.preventDefault=t.preventDefault||function(){return t.returnValue&&(t.returnValue=!1),!1},n.call(e,t)};e[o].push(i),e.addEventListener?e.addEventListener(t,i,r):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i})}function r(e,t,n,a){var o="originFn",i=t+"Fn",s=arguments;e.length||(e=[e]),e.forEach(function(e){var u=0;if(1==s.length){for(var l=0;l<e[i].length;l++)r(e,t,e[i][l],a);e[o]=[],e[i]=[]}else e[o].forEach(function(e,t){e==n&&(u=t)}),e.removeEventListener?e.removeEventListener(t,e[i][u],a):e.detachEvent?e.detachEvent("on"+t,e[i][u]):e["on"+t]=null,e[o].splice(u,1),e[i].splice(u,1)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={on:n,off:r}},function(e,t){}]);